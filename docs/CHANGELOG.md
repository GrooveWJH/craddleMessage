# 更新日志

所有版本更新的详细信息将记录在本文件中。

## [未发布]

### 功能改进
- 实现"我的留言"表格数据显示功能
  - 添加获取当前用户留言列表的API端点
  - 实现前端自动加载和显示用户留言列表
  - 美化留言列表UI，添加状态标识和操作按钮
- 完善留言查看密钥验证机制
  - 添加留言ID和密钥匹配验证功能
  - 为查看留言操作增加密钥输入验证模态窗口
  - 实现通过密钥查找消息ID的API端点
- 增强安全性
  - 修复安全漏洞，确保用户只能使用匹配的密钥查看对应留言
  - 为密钥验证添加错误处理和用户反馈
  - 优化密钥输入界面用户体验

### 界面优化
- 添加Badge组件样式，用于显示留言状态和预警级别
- 优化模态窗口样式和交互体验
- 完善消息提示反馈机制

### 架构优化
- 重构项目结构，实施Flask蓝图(Blueprint)架构
- 创建三个主要蓝图模块：认证(auth)、API接口(api)和主页(main)
- 更新路由引用，使其与蓝图命名空间兼容

### 调试功能
- 优化调试登录功能的实现
- 确保跨模块调试模式一致性

### 文档
- 新增蓝图架构设计文档 (`docs/architecture/blueprint.md`)
- 更新技术文档，补充蓝图相关信息
- 更新README，说明项目结构变化

## [0.3.0] - 2024-05-20

### 新增
- 用户注册功能
  - 支持用户名、邮箱和密码注册
  - 添加用户名唯一性检查
  - 实现客户端和服务器端表单验证
  - 添加密码确认功能
- 注册页面模板
  - 创建注册表单及客户端验证
  - 添加实时表单验证反馈

### 修改
- 更新管理员权限判断逻辑
  - 从配置文件改为直接检查用户名是否为"admin"
- 更新登录页面
  - 添加注册链接
  - 添加表单输入图标
- 更新首页导航栏
  - 为未登录用户添加注册和登录链接
  - 调整未登录用户提示信息

### 美化
- 创建auth.css样式文件
  - 提供登录和注册页面的共享样式
  - 美化表单元素和卡片组件
  - 添加动画和过渡效果
- 美化按钮样式
  - 统一全站按钮风格
  - 添加主要、次要和危险按钮样式
  - 实现按钮悬停和点击动画效果
- 响应式设计优化
  - 确保在移动设备上良好展示
  - 调整卡片和表单在不同屏幕尺寸下的显示

## [0.2.0] - 2024-04-15

### 新增
- 用户登录功能
  - 实现基于会话的身份验证
  - 添加管理员权限检查
- 管理后台
  - 创建系统概览页面
  - 添加预警级别统计
  - 实现系统日志查看

### 修改
- 优化数据库模型
  - 用户表添加身份字段
  - 留言表添加状态字段
- 更新首页
  - 根据登录状态显示不同内容
  - 实现登录用户的留言列表

### 修复
- 修复留言创建时的日期格式问题
- 解决长文本在卡片中的显示异常

## [0.1.0] - 2024-03-10

### 新增
- 初始项目结构
  - 配置Flask应用
  - 设置基本路由
  - 创建数据库模型
- 首页基本布局
  - 导航栏
  - 主要内容区域
  - 页脚信息
- 留言功能基础实现
  - 创建留言表单
  - 实现留言存储逻辑

### 技术选型
- 后端：Flask框架
- 前端：HTML, CSS, JavaScript
- 数据库：SQLite (开发环境)

## [1.0.0] - 2024-03-20

### 新增
- 初始版本发布
- 基础留言功能
  - 创建留言
  - 编辑留言
  - 删除留言
  - 查看留言列表
- 预警系统
  - 五级预警机制
  - 预警时间设置
  - 预警响应处理
- 用户系统
  - 用户注册
  - 用户登录
  - 个人信息管理
- 接收人管理
  - 添加接收人
  - 编辑接收人
  - 删除接收人
- 通知系统
  - 邮件通知
  - 短信通知
  - 微信通知

### 优化
- 界面设计
  - 响应式布局
  - 暗色主题
  - 动画效果
- 性能优化
  - 数据库索引
  - 缓存机制
  - 异步处理
- 安全增强
  - JWT认证
  - 数据加密
  - 访问控制

### 修复
- 修复留言创建时的数据验证问题
- 修复预警时间计算错误
- 修复接收人信息显示问题

## [0.9.0] - 2024-03-15

### 新增
- Beta版本发布
- 基础功能实现
  - 留言管理
  - 预警系统
  - 用户系统

### 优化
- 系统架构优化
- 数据库设计优化
- 接口设计优化

### 修复
- 修复已知问题
- 优化错误处理
- 完善日志记录

## [0.8.0] - 2024-03-10

### 新增
- Alpha版本发布
- 核心功能开发
  - 数据库设计
  - API接口
  - 前端界面

### 优化
- 代码结构优化
- 开发流程规范
- 测试用例完善

### 修复
- 修复开发环境问题
- 修复依赖包问题
- 修复构建问题

## [0.7.0] - 2024-03-05

### 新增
- 项目初始化
- 基础框架搭建
- 开发环境配置

### 优化
- 项目结构规划
- 技术栈选择
- 开发规范制定

### 修复
- 环境配置问题
- 依赖管理问题
- 构建工具问题

## [0.6.0] - 2024-03-01

### 新增
- 需求分析
- 系统设计
- 技术方案

### 优化
- 架构设计优化
- 数据库设计优化
- 接口设计优化

### 修复
- 设计文档问题
- 技术方案问题
- 需求文档问题

## [0.5.0] - 2024-02-28

### 新增
- 项目规划
- 功能设计
- 原型设计

### 优化
- 需求分析优化
- 功能设计优化
- 原型设计优化

### 修复
- 规划文档问题
- 设计文档问题
- 原型文档问题

## [0.4.0] - 2024-02-25

### 新增
- 市场调研
- 竞品分析
- 用户调研

### 优化
- 调研方法优化
- 分析方法优化
- 调研报告优化

### 修复
- 调研数据问题
- 分析报告问题
- 调研方法问题

## [0.3.0] - 2024-02-20

### 新增
- 项目立项
- 团队组建
- 资源规划

### 优化
- 立项流程优化
- 团队建设优化
- 资源分配优化

### 修复
- 立项文档问题
- 团队配置问题
- 资源规划问题

## [0.2.0] - 2024-02-15

### 新增
- 创意构思
- 可行性分析
- 项目规划

### 优化
- 创意方案优化
- 可行性分析优化
- 规划方案优化

### 修复
- 创意方案问题
- 分析报告问题
- 规划方案问题

## [0.1.0] - 2024-02-10

### 新增
- 项目启动
- 需求收集
- 方案设计

### 优化
- 启动流程优化
- 需求分析优化
- 方案设计优化

### 修复
- 启动文档问题
- 需求文档问题
- 设计文档问题 