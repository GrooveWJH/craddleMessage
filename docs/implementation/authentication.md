# 用户认证实现

## 功能概述

摇篮留言系统采用基于会话的身份验证机制，支持用户注册、登录和登出功能。系统区分普通用户和管理员用户，提供不同级别的访问权限。

## 用户注册流程

1. 用户注册表单收集以下信息：
   - 用户名（3-20个字符，只能包含字母和数字）
   - 电子邮箱
   - 密码（至少6个字符）
   - 确认密码

2. 表单验证包括：
   - 客户端验证：实时检查用户名和密码格式，确认两次密码输入一致
   - 服务器端验证：检查用户名唯一性，邮箱有效性，密码长度等

3. 注册成功后自动登录用户并重定向到首页

## 用户登录流程

1. 用户通过登录页面提交用户名和密码
2. 系统验证用户名和密码的正确性
3. 登录成功后创建用户会话并重定向到首页
4. 登录失败显示相应错误信息

## 管理员权限

管理员用户拥有特殊权限，可以访问管理后台。系统通过以下方式识别管理员：

- 检查用户名是否为"admin"
- 如用户名为"admin"，则授予管理员权限

## 用户界面

### 登录页面

- 美观的卡片式设计，带有渐变顶边
- 表单字段带有图标
- 登录按钮带有动画效果
- 注册账号链接
- 错误信息以警告框形式显示

### 注册页面

- 与登录页面风格统一
- 实时表单验证，使用颜色提示有效/无效输入
- 密码要求提示
- 表单提交前验证
- 登录账号链接

## 样式和UI设计

认证相关页面使用专门的`auth.css`样式文件，主要设计特点包括：

- 卡片式布局带有渐变顶边
- 悬停效果和动画
- 表单字段带有前置图标
- 实时验证反馈
- 响应式设计，适配移动设备
- 统一的按钮样式和交互效果

## 安全考虑

- 密码存储使用安全哈希算法
- 防止SQL注入和XSS攻击
- 会话管理和安全措施
- CSRF保护 